"use strict";(self.webpackChunk_discretize_gw2_ui_new=self.webpackChunk_discretize_gw2_ui_new||[]).push([[492],{"./src/components/Item/Item.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AscendedFood:()=>AscendedFood,Multiple:()=>Multiple,Single:()=>Single,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Item_stories});__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");var hooks=__webpack_require__("./src/gw2api/hooks.ts"),Error=__webpack_require__("./src/components/Error/Error.tsx"),IconWithText=__webpack_require__("./src/components/IconWithText/IconWithText.tsx"),clsx=__webpack_require__("../node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs"),createItem=__webpack_require__("./src/builder/createItem.ts"),capitalize=__webpack_require__("./src/helpers/capitalize.ts"),Tooltip=__webpack_require__("./src/components/Tooltip/Tooltip.tsx"),WikiLink=__webpack_require__("./src/components/WikiLink/WikiLink.tsx"),Item_module=__webpack_require__("./src/components/Item/Item.module.css"),ItemDetails=__webpack_require__("./src/components/Item/ItemDetails.tsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js");const ItemInternal=props=>{const{dataItem:itemdata,dataUpgrades:upgradedata=[],text:textProps,count=1,stat:statRaw,disableIcon,disableText,disableLink,disableTooltip,inline,tooltipProps,wikiLinkProps,style,className}=props,stat=statRaw?(0,capitalize.Z)(statRaw):void 0,{name,icon,rarity}=itemdata,text="function"==typeof textProps?textProps(name):textProps;let stattedItemData=itemdata;if(stat&&("Armor"===itemdata.type||"Weapon"===itemdata.type||"Trinket"===itemdata.type||"Back"===itemdata.type)){let createdData,type="Back"===itemdata.type?"Back Item":itemdata.details.type;"LongBow"===type?type="Longbow":"ShortBow"===type&&(type="Short Bow");try{createdData=(0,createItem.A)({type,stat,weight:"Armor"===itemdata.type?itemdata.details.weight_class:void 0})}catch(e){return console.error(`Error while loading item with id ${itemdata.id}!\n ${e}`),(0,jsx_runtime.jsx)(Error.A,{name:"Invalid Item",message:`An error occured ${itemdata.id}: ${e}`,code:404})}const details={...itemdata.details,infix_upgrade:createdData.details.infix_upgrade};stattedItemData={...itemdata,details}}return(0,jsx_runtime.jsx)(Tooltip.A,{content:(0,jsx_runtime.jsx)(ItemDetails.A,{item:stattedItemData,upgrades:upgradedata}),disabled:disableTooltip,...tooltipProps,containerProps:{...tooltipProps?.containerProps,className:(0,clsx.A)(Item_module.A.container,tooltipProps?.containerProps?.className)},children:(0,jsx_runtime.jsx)(IconWithText.A,{icon,text:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[count>1&&`${count} `,disableLink?text||name:(0,jsx_runtime.jsx)(WikiLink.A,{to:name,text,...wikiLinkProps,className:(0,clsx.A)(wikiLinkProps?.className,Item_module.A[`colorRarity${(0,capitalize.Z)(rarity)}`])})]}),disableIcon,disableText,inline,iconProps:{applyCount:count,applyCountProps:{className:Item_module.A.iconApplyCount}},style,className:(0,clsx.A)(className,Item_module.A[`colorRarity${(0,capitalize.Z)(rarity)}`])})})},Item_ItemInternal=ItemInternal;try{ItemInternal.displayName="ItemInternal",ItemInternal.__docgenInfo={description:"",displayName:"ItemInternal",props:{dataItem:{defaultValue:null,description:"",name:"dataItem",required:!0,type:{name:"GW2ApiItem"}},dataUpgrades:{defaultValue:null,description:"",name:"dataUpgrades",required:!1,type:{name:"[GW2ApiItem, number][]"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string | ((text: string) => string)"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},stat:{defaultValue:null,description:"",name:"stat",required:!1,type:{name:"string"}},disableIcon:{defaultValue:null,description:"",name:"disableIcon",required:!1,type:{name:"boolean"}},disableText:{defaultValue:null,description:"",name:"disableText",required:!1,type:{name:"boolean"}},disableLink:{defaultValue:null,description:"",name:"disableLink",required:!1,type:{name:"boolean"}},disableTooltip:{defaultValue:null,description:"",name:"disableTooltip",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},tooltipProps:{defaultValue:null,description:"",name:"tooltipProps",required:!1,type:{name:"TooltipProps"}},wikiLinkProps:{defaultValue:null,description:"",name:"wikiLinkProps",required:!1,type:{name:"WikiLinkProps"}},upgrades:{defaultValue:null,description:"",name:"upgrades",required:!1,type:{name:"ItemUpgrades"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Item/ItemInternal.tsx#ItemInternal"]={docgenInfo:ItemInternal.__docgenInfo,name:"ItemInternal",path:"src/components/Item/ItemInternal.tsx#ItemInternal"})}catch(__react_docgen_typescript_loader_error){}const SKILL_ERROR_NAMES={404:"Item Not Found",500:"Network Error"},SKILL_ERROR_MESSAGES={404:id=>`The requested item with the id ${id} was not found.`,500:id=>`A Network Error occured trying to fetch the item ${id}.`},Item=props=>{const{id,disableIcon,disableText,disableLink,disableTooltip,inline,tooltipProps,wikiLinkProps,upgrades,style,className}=props;if(!id)return(0,jsx_runtime.jsx)(Error.A,{code:404,name:"No ID provided",message:"Missing ID prop in the item component"});const ids=[id];if(upgrades)for(const u of upgrades)Array.isArray(u)?ids.push(u[0]):ids.push(u);const items=(0,hooks.wB)(ids);if(items.loading){const newProps={disableIcon,disableText,disableLink,disableTooltip,inline,tooltipProps,wikiLinkProps,upgrades,style,className};return(0,jsx_runtime.jsx)(IconWithText.A,{...newProps,loading:!0})}if(items.errors){const first_error_id=Number(Object.keys(items.errors)[0]);return(0,jsx_runtime.jsx)(Error.A,{...props,id:first_error_id,code:items.errors[first_error_id],name:SKILL_ERROR_NAMES,message:SKILL_ERROR_MESSAGES})}const itemdata=items.data[id],upgradedata=[];if(upgrades)for(const u of upgrades){let id,count=1;Array.isArray(u)?[id,count]=u:id=u,upgradedata.push([items.data[id],count])}return(0,jsx_runtime.jsx)(Item_ItemInternal,{...props,dataItem:itemdata,dataUpgrades:upgradedata})},Item_Item=Item;try{Item.displayName="Item",Item.__docgenInfo={description:"",displayName:"Item",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"number"}},text:{defaultValue:null,description:"",name:"text",required:!1,type:{name:"string | ((text: string) => string)"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},disableIcon:{defaultValue:null,description:"",name:"disableIcon",required:!1,type:{name:"boolean"}},disableText:{defaultValue:null,description:"",name:"disableText",required:!1,type:{name:"boolean"}},disableLink:{defaultValue:null,description:"",name:"disableLink",required:!1,type:{name:"boolean"}},disableTooltip:{defaultValue:null,description:"",name:"disableTooltip",required:!1,type:{name:"boolean"}},inline:{defaultValue:null,description:"",name:"inline",required:!1,type:{name:"boolean"}},tooltipProps:{defaultValue:null,description:"",name:"tooltipProps",required:!1,type:{name:"TooltipProps"}},wikiLinkProps:{defaultValue:null,description:"",name:"wikiLinkProps",required:!1,type:{name:"WikiLinkProps"}},count:{defaultValue:null,description:"",name:"count",required:!1,type:{name:"number"}},stat:{defaultValue:null,description:"",name:"stat",required:!1,type:{name:"string"}},upgrades:{defaultValue:null,description:"",name:"upgrades",required:!1,type:{name:"ItemUpgrades"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Item/Item.tsx#Item"]={docgenInfo:Item.__docgenInfo,name:"Item",path:"src/components/Item/Item.tsx#Item"})}catch(__react_docgen_typescript_loader_error){}var itemStatNames=__webpack_require__("./src/builder/itemStatNames.ts");const Item_stories={title:"Components/Item",component:Item_Item,argTypes:{stat:{control:{type:"select",options:Object.values(itemStatNames.A)}},className:{control:!1}}},Single={render:args=>(0,jsx_runtime.jsx)(Item_Item,{...args}),args:{id:75187,upgrades:[86303,86303]}};function Multiple(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Empty: ",(0,jsx_runtime.jsx)(Item_Item,{id:75187}),(0,jsx_runtime.jsx)("br",{}),"With Infusions: ",(0,jsx_runtime.jsx)(Item_Item,{id:75187,upgrades:[86303,86303]}),(0,jsx_runtime.jsx)("br",{}),"With Runes: ",(0,jsx_runtime.jsx)(Item_Item,{id:48073,upgrades:[[24706,2]]}),(0,jsx_runtime.jsx)("br",{}),"Invalid id: ",(0,jsx_runtime.jsx)(Item_Item,{id:42}),(0,jsx_runtime.jsx)("br",{}),"Invalid upgrade: ",(0,jsx_runtime.jsx)(Item_Item,{id:48073,upgrades:[42]})]})}function AscendedFood(){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Ascended Food requires API overrides, otherwise the details are missing.",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(Item_Item,{id:91805}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("br",{}),"This one does not have overrides:",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)(Item_Item,{id:97826}),(0,jsx_runtime.jsx)("br",{})]})}const __namedExportsOrder=["Single","Multiple","AscendedFood"];Single.parameters={...Single.parameters,docs:{...Single.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    id: 75187,\n    upgrades: [86303, 86303]\n  }\n}",...Single.parameters?.docs?.source}}},Multiple.parameters={...Multiple.parameters,docs:{...Multiple.parameters?.docs,source:{originalSource:"function Multiple() {\n  return <>\n      Empty: <Item id={75187} />\n      <br />\n      With Infusions: <Item id={75187} upgrades={[86303, 86303]} />\n      <br />\n      With Runes: <Item id={48073} upgrades={[[24706, 2]]} />\n      <br />\n      Invalid id: <Item id={42} />\n      <br />\n      Invalid upgrade: <Item id={48073} upgrades={[42]} />\n    </>;\n}",...Multiple.parameters?.docs?.source}}},AscendedFood.parameters={...AscendedFood.parameters,docs:{...AscendedFood.parameters?.docs,source:{originalSource:"function AscendedFood() {\n  return <>\n      Ascended Food requires API overrides, otherwise the details are missing.\n      <br />\n      <Item id={91805} />\n      <br />\n      <br />\n      This one does not have overrides:\n      <br />\n      <Item id={97826} />\n      <br />\n    </>;\n}",...AscendedFood.parameters?.docs?.source}}}}}]);